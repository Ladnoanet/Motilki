<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–æ—Ç—ã–ª—å–∫–∏</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/user.css">

    <!--–ö—Ç–æ —Ç–µ–±—è –∑–≤–∞–ª —Å—é–¥–∞?? ü§ï-->
</head>
<body>
    <div class="head">
        <img src="/assets/img/logo/–º–æ—Ç—ã–ª—å–∫–∏.png" alt="–ª–æ–≥–æ—Ç–∏–ø">
        <h2 style="font-weight: 500;">–ú–æ—Ç—ã–ª—å–∫–∏</h2>
    </div>
    <div class="banner">
        <h2>–Æ–∑–µ—Ä</h2>
        <img src="/assets/img/banner/user.svg" alt="">
    </div>

    <main style="border-top: 1.5px solid rgb(255, 194, 194); box-shadow: 0 0 15px rgba(210, 105, 30, 0.176); margin-top: -10px; border-radius: 20px 20px 0 0;">
        <div style="margin-top: 5px;" class="card">
            <div class="img">
                <h4 id="userName" style="font-weight: 500;">–ì–æ—Å—Ç—å</h4>
                <div id="accountDiv" class="user-icon"><i class="fas fa-user"></i></div>
            </div>
            <p style="margin-top: 10px;">–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞</p>
        </div>

        <div class="card">
            <h4 style="font-weight: 500;">–ö–∞–∫ –≤–∞—Å –∑–æ–≤—É—Ç?:</h4>
            <input class="name" id="nameInput" type="text" placeholder="–ò–º—è">
        </div>

        <div class="card">
            <h4 style="font-weight: 500; margin-bottom: 10px;">–ö–∞–∫–∏–µ —É –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—ã?:</h4>
            <button class="interes-button" onclick="toggleInterest(this)">–û–±—â–µ–Ω–∏–µ</button>
            <button class="interes-button" onclick="toggleInterest(this)">–ò–≥—Ä—ã</button>
            <button class="interes-button" onclick="toggleInterest(this)">–ü–æ–º–æ—â—å</button>
            <button class="interes-button" onclick="toggleInterest(this)">–§–æ—Ç–æ</button>
            <button class="interes-button" onclick="toggleInterest(this)">–î—Ä—É–∑—å—è</button>
            <button class="interes-button" onclick="toggleInterest(this)">–ü—Ä–æ–≥—É–ª–∫–∞</button>
            <button class="interes-button" onclick="toggleInterest(this)">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</button>
        </div>
        <a class="save" href="/pages/user.html" onclick="saveProfile()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</a>
        <br><br><br>
    </main>

    <footer>
        <a href="/index.html"><i class="fa-regular fa-heart"></i></a>
        <a href="/pages/celi.html"><i class="fa-regular fa-font-awesome"></i></a>
        <a class="active" href="/pages/user.html"><i class="fa-regular fa-user"></i></a>
        <a href="/pages/news.html"><i class="fa-regular fa-newspaper"></i></a>
    </footer>

    <script>
        function generateRandomPastelColor() {
            const r = Math.floor((Math.random() * 127) + 127);
            const g = Math.floor((Math.random() * 127) + 127);
            const b = Math.floor((Math.random() * 127) + 127);
            return `rgb(${r}, ${g}, ${b})`;
        }

        const savedColor = localStorage.getItem('backgroundColor');

        if (savedColor) {
            document.getElementById('accountDiv').style.backgroundColor = savedColor;
        } else {
            const newColor = generateRandomPastelColor();
            document.getElementById('accountDiv').style.backgroundColor = newColor;
            localStorage.setItem('backgroundColor', newColor);
        }

        document.getElementById('changeColorButton').addEventListener('click', function() {
    const newColor = generateRandomPastelColor();
    document.getElementById('accountDiv').style.backgroundColor = newColor;
    localStorage.setItem('backgroundColor', newColor);
});

const userNameElement = document.getElementById('userName');
        const savedName = localStorage.getItem('usernameM');

        if (savedName) {
            userNameElement.textContent = savedName;
        } else {
            userNameElement.textContent = '–ì–æ—Å—Ç—å';
        }
    </script>
    <script>
        function toggleInterest(button) {
        button.classList.toggle('active');
    }

    function saveProfile() {
        const name = document.getElementById('nameInput').value;
        const interests = Array.from(document.querySelectorAll('button.active')).map(button => button.innerText);

        localStorage.setItem('usernameM', name);
        localStorage.setItem('interests', JSON.stringify(interests));

    }

    window.onload = function() {
        const colorDiv = document.getElementById('colorDiv');
        const savedColor = localStorage.getItem('backgroundColor');
        if (savedColor) {
            colorDiv.style.backgroundColor = savedColor;
        }

        const savedName = localStorage.getItem('usernameM');
        const savedInterests = JSON.parse(localStorage.getItem('interests')) || [];

        if (savedName) {
            document.getElementById('nameInput').value = savedName;
        }

        savedInterests.forEach(interest => {
            const button = Array.from(document.querySelectorAll('button')).find(btn => btn.innerText === interest);
            if (button) {
                button.classList.add('active');
            }
        });
    };

    function changeColor(color) {
        const colorDiv = document.getElementById('colorDiv');
        colorDiv.style.backgroundColor = color;
        localStorage.setItem('backgroundColor', color);
    }
    </script>
</body>
</html>
